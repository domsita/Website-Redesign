<!DOCTYPE HTML>
  <html>

  <head>
    <link rel="shortcut icon" type="image/x-icon" href="DSLogo.ico" />
    <title>Contact - Domenic Sita</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style/main.css">
    <link rel="stylesheet" type="text/css" href="style/contact.css">
    <link rel="stylesheet" type="text/css" href="style/header.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src='https://www.google.com/recaptcha/api.js'></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-101879616-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="header">
      <a href="index.html"><div id="header-logo"><div id="logo-img"></div></div>
      <div id="header-name"><p>Domenic Sita</p></div></a>
      <div id="header-links">
        <ul><li><a href="index.html">Projects</a></li>
          <li><a href="about.html">About</a></li>
          <li class="active"><a href="contact.html">Contact</a></li>
        </ul></div></div>

    <form id="contact-form" action="scripts/sendMail.php" method="post">
        <?php
            require_once('scripts/recaptcha.php');
            $publickey = "6LdAlCQUAAAAAKnn614b9h8uUwtNRgCNC2c3WbOV";
            echo recaptcha_get_html($publickey);
        ?>
        <fieldset id="contact-container">
            <p id="message-container">A good place for a message</p>
            <fieldset class="contactField">
                <ul id="topRow">
                    <li class="label">Name: <input class="inputBox" id="nameField" type="text" maxlength="50"></li>
                    <li class="label">Email: <input class="inputBox" id="emailField" type="text" maxlength="80"></li>
                    <li class="label">Phone: <input class="inputBox" id="phoneField" type="text" maxlength="20"></li>
                </ul>
            </fieldset>
            <fieldset class="contactField">
                <div id="commentBox">Comments:<br><textarea  id="messageField" rows="12" cols="40" maxlength="1000"></textarea></div>
            </fieldset>
            <fieldset class="contactField">
                <div id="captchaBox">
                    <div class="g-recaptcha" data-sitekey="6LdAlCQUAAAAAKnn614b9h8uUwtNRgCNC2c3WbOV"></div>
                    <div id="submitBox"><input type="submit" id="submitContact" value="Submit"></input></div>
                </div>
            </fieldset>
        </fieldset>
    </form>

    <script src="scripts/mailer.js"></script>
    <script>
    $(document).ready(function () {
        $('#submitContact').click(function(event) {
            event.preventDefault();
            var name = checkName();
            var email = checkEmail();
            var message = checkMessage();

            if (!name || !email || !message) {
                updateFail();
                return 0;
            }
            if ($('#phoneField').val()) {
                var phone = $('#phoneField').val();
            } else {
                var phone = "N/A";
            }

            var formData = "name="+name+"&email="+email+"&message="+message+"&phone="+phone;
            $.ajax({
                type: 'POST',
                url: $('#contact-form').attr('action'),
                data: formData
            }).done(function() {
                updateSuccess();
            }).fail(function(data) {
                updateFail();
            });
        });
    });


    </script>
  </body>
  </html>
